/*! For license information please see 673.a59d50e4687870f4959f.js.LICENSE.txt */
"use strict";(self.webpackChunkvvid_project=self.webpackChunkvvid_project||[]).push([[673],{673:(e,t,a)=>{a.r(t),a.d(t,{BalanceContext:()=>I,default:()=>B});var s=a(540);function c(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)e[s]=a[s]}return e}var n=function e(t,a){function s(e,s,n){if("undefined"!=typeof document){"number"==typeof(n=c({},a,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var l in n)n[l]&&(r+="; "+l,!0!==n[l]&&(r+="="+n[l].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+r}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],s={},c=0;c<a.length;c++){var n=a[c].split("="),r=n.slice(1).join("=");try{var l=decodeURIComponent(n[0]);if(s[l]=t.read(r,l),e===l)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){s(e,"",c({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,c({},this.attributes,t))},withConverter:function(t){return e(c({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),r=a(976);const l=[[{src:a.p+"src/assets/images/dirt-1.d3f545ec69ee977ed43e6035dce9dd9f.jpg",endurance:1,cost:1},{src:a.p+"src/assets/images/dirt-2.7fbde20c364368f68f56110c24ed64ce.jpg",endurance:1,cost:1},{src:a.p+"src/assets/images/dirt-3.289f0b58e5964eca1021cfd7dc6224a1.jpg",endurance:1,cost:1},{src:a.p+"src/assets/images/dirt-4.e9f6c419869f872943bb7a1f93a79c1a.jpg",endurance:1,cost:2}],[{src:a.p+"src/assets/images/grass-1.e019515cdaf72094684acd118d717ef6.jpg",endurance:1,cost:1},{src:a.p+"src/assets/images/grass-2.13ccf2efe341401830c5c95927ece32f.jpg",endurance:1,cost:1},{src:a.p+"src/assets/images/grass-3.db49e6eaae54191f57cbe203c0d5af7b.jpg",endurance:1,cost:1},{src:a.p+"src/assets/images/grass-4.a3c5414dd5b0b762ae5f360353e697c4.jpg",endurance:1,cost:2}],[{src:a.p+"src/assets/images/wood-1.e5f1561df47ad77261ca009e6f94fbfa.jpg",endurance:2,cost:1},{src:a.p+"src/assets/images/wood-2.48a4f652c8b9dd103295bc8e1b7b4893.jpg",endurance:2,cost:1},{src:a.p+"src/assets/images/wood-3.4757ca6a28970e3d82b53f31ddf0bd85.jpg",endurance:2,cost:1},{src:a.p+"src/assets/images/wood-4.b52cddddd619c3f34843a5adf1f39c2c.jpg",endurance:2,cost:5}],[{src:a.p+"src/assets/images/cobblestone-1.3278e8efeac8a863004214c9f5c1026b.jpg",endurance:3,cost:1},{src:a.p+"src/assets/images/cobblestone-2.f82ddafcd77c1b710fee572b6e7264ef.jpg",endurance:3,cost:1},{src:a.p+"src/assets/images/cobblestone-3.2c3042bf4755ac6d435f3821a2fbc3fe.jpg",endurance:3,cost:1},{src:a.p+"src/assets/images/cobblestone-4.50b0d4791a6d168314c51951bee83820.jpg",endurance:3,cost:10}],[{src:a.p+"src/assets/images/diamond-1.594c51b0d6645f8b1853e566a36b5704.jpg",endurance:5,cost:1},{src:a.p+"src/assets/images/diamond-2.0bad567e16d293fee8117fc6b9786adf.jpg",endurance:5,cost:1},{src:a.p+"src/assets/images/diamond-3.a37b6940f0670a987e7b2316969e93d1.jpg",endurance:5,cost:1},{src:a.p+"src/assets/images/diamond-4.6f528ad04ccd8b046f0ed9e7af41f79a.jpg",endurance:5,cost:25}],[{src:a.p+"src/assets/images/tnt.36994c703546d076f90bf7a275248abd.jpg",endurance:1,cost:-5}]],i=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e));let o=Object.assign({},l[i(0,l.length-1)]),m=0,d=Object.assign({},o[m]),u=0,p=0;const f=()=>{const[e,t]=(0,s.useState)(!1),a=(0,s.useContext)(I);if(!a)throw new Error("Header must be used within a BalanceProvider");const{balance:c,setBalance:n,userSignIn:f}=a;return React.createElement("section",{className:"section-1"},e?React.createElement(r.k2,{className:"sign-in-link",to:"/Registration"},React.createElement("span",{className:"sign-in-text"},"Sign in for play")):React.createElement("div",{className:"click-btn",onMouseEnter:()=>{const e=document.querySelector(".click-btn-img"),t=document.querySelector(".click-btn-text");e.style.height="208px",e.style.width="208px",e.style.boxShadow="3px 2px 4px #000000",t.style.fontSize="50px"},onMouseLeave:()=>{const e=document.querySelector(".click-btn-img"),t=document.querySelector(".click-btn-text");e.style.height="258px",e.style.width="258px",e.style.boxShadow="5px 4px 4px #000000",t.style.fontSize="70px"}},React.createElement("div",{className:"click-btn-area",onClick:f?()=>{d.endurance--;const e=document.querySelector(".click-btn");e?.insertAdjacentHTML("beforeend",`<span class="balance-add" style="top:${p}px; left:${u}px">${0===d.endurance&&m===Object.keys(o).length-1?o[m].cost>=0?"+"+o[m].cost:o[m].cost:"+1"}\n\t\t</span>`);const t=e?.lastChild,a=p;let s=0;const r=Date.now(),f=setInterval((()=>{const e=Date.now()-r;s+=3,t.style.top=a-s+"px",e>=300&&(t.style.opacity="0"),e>=1e3&&clearInterval(f)}),15);n((e=>e+1)),0===d.endurance&&m!==Object.keys(o).length-1&&(m++,d=Object.assign({},o[m])),0===d.endurance&&m===Object.keys(o).length-1&&(c<10&&d.cost<0?n(0):n(c+d.cost+1),o=Object.assign({},l[i(0,l.length-1)]),m=0,d=Object.assign({},o[m]))}:()=>t(!e),onMouseMove:e=>{u=e.nativeEvent.offsetX,p=e.nativeEvent.offsetY}}),React.createElement("img",{className:"click-btn-img",src:o[m].src,alt:"Click Button Background"}),f?React.createElement("span",{className:"click-btn-text"},"Claim"):React.createElement("span",{className:"click-btn-text"},"Play")))};var g=a(961);const b=e=>{let{text:t,value:a}=e;return React.createElement("div",{className:"user-data"},React.createElement("span",{className:"user-data-text"},t),React.createElement("div",{className:"user-data-container"},React.createElement("span",{className:"user-data-value"},a)))},E=e=>{let{text:t,value:a}=e;return React.createElement("div",{className:"user-data2"},React.createElement("span",{className:"user-data2-text"},t),React.createElement("div",{className:"user-data2-container"},React.createElement("span",{className:"user-data2-value"},a)))},R=a.p+"src/assets/images/coutCash.17ff0ff28121145dc6f3725616bd3bbd.svg",v=()=>React.createElement("div",{className:"cout-cash"},React.createElement("button",{className:"cout-cash-btn"},React.createElement("span",{className:"cout-cash-text"},"Вывод средств"),React.createElement("img",{className:"cout-cash-img",src:R,alt:"Cout Cash"}))),N=a.p+"src/assets/images/gandonioCat.f12d81407b3e642bb42b23afb445ff78.png",h=e=>{let{isVisible:t,toggleVisibility:a,isAnimating:c}=e;const n=(0,s.useContext)(I);if(!n)throw new Error("Header must be used within a BalanceProvider");const{balance:r}=n;return(0,g.createPortal)(React.createElement("div",{className:c?"user-aside-container user-aside-container-hide":"user-aside-container"},React.createElement("div",{className:"screen-filter",onClick:()=>a("")}),React.createElement("aside",{className:c?"user-aside user-aside-hide":"user-aside"},React.createElement("div",{className:"user-aside-inner"},"players"===t&&React.createElement("h4",{className:"user-aside-title"},"Топ Игроки"),"missions"===t&&React.createElement("h4",{className:"user-aside-title"},"Миссии"),"profile"===t&&React.createElement("div",{className:"user-profile"},React.createElement("div",{className:"user-profile-avatar"},React.createElement("img",{className:"user-profile-avatar-img",src:N,alt:"User Icon"})),React.createElement("div",{className:"user-profile-container"},React.createElement(b,{text:"Mail",value:""}),React.createElement(b,{text:"MetaMask address",value:""})),React.createElement(E,{text:"Рейтинг",value:null}),React.createElement(E,{text:"Заработано токенов",value:r}),React.createElement(v,null))))),document.querySelector("body"))},x=a.p+"src/assets/images/dollar.64b0074163a9d2a2989c996f591ead7e.svg",k=a.p+"src/assets/images/list.69e987461b6e2d7ce0e7974fa25b33ac.svg",y=a.p+"src/assets/images/signIn.d7b2767eb26d859e4b1fae7865e7358b.svg",j=()=>{const e=(0,s.useContext)(I);if(!e)throw new Error("Header must be used within a BalanceProvider");const{balance:t,userSignIn:a}=e,[c,n]=(0,s.useState)(""),[l,i]=(0,s.useState)(!1),o=e=>{c?(i(!0),setTimeout((()=>{n(""),i(!1)}),300)):n(e)};return React.createElement(React.Fragment,null,React.createElement("header",{className:"header"},React.createElement("div",{className:"header-inner"},a&&React.createElement("ul",{className:"menu-list"},React.createElement("li",{className:"menu-item"},React.createElement(r.k2,{className:"menu-link",to:"/Games"},"Мини-игры")),React.createElement("li",{className:"menu-item"},React.createElement(r.k2,{className:"menu-link",to:"/Questions"},"FAQ")),React.createElement("li",{className:"menu-item"},React.createElement("span",{className:"menu-link",onClick:()=>o("players")},"Топ игроки")),React.createElement("li",{className:"menu-item"},React.createElement("span",{className:"menu-link",onClick:()=>o("missions")},"Миссии"))),React.createElement("div",{className:"logo",style:a?{display:"absolute",left:"50%",transform:"translateX(-50%) translateY(5%)"}:{display:"block"}},React.createElement("span",{className:"logo-text"},"Sigma Rule")),a&&React.createElement("div",{className:"user-info"},React.createElement("button",{className:"user-info-btn",onClick:()=>o("profile")},React.createElement("img",{className:"user-info-img",src:x,alt:"User"}),React.createElement("span",{className:"user-info-text"},t)),React.createElement("button",{className:"user-info-btn user-info-btn-2",onClick:()=>o("profile")},React.createElement("img",{className:"user-info-img user-info-img-2",src:k,alt:"User"}),React.createElement("span",{className:"user-info-text"},"Profile"))),!a&&React.createElement(r.k2,{className:"reg-btn",to:"Registration"},React.createElement("img",{className:"reg-img",src:y,alt:"Reg Button Icon"}),React.createElement("span",{className:"reg-text"},"Sign In")))),c&&React.createElement(h,{isVisible:c,toggleVisibility:o,isAnimating:l}))};var C=a(767);const w=()=>{const{pathname:e}=(0,C.zy)();return(0,s.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null},S=a.p+"src/assets/images/background.2adc4a483d8e3eca9cd7c5643f456087.jpg",I=s.createContext(null),B=e=>{let{userSignIn:t,setUserSignIn:a}=e;const[c,r]=(0,s.useState)(0);return(0,s.useEffect)((()=>{document.title="Главная";const e=n.get("Cookie");if(e)try{const t=JSON.parse(e);r(t.balance),a(t.userSignIn)}catch(e){console.error("Ошибка при парсинге cookie:",e)}}),[]),(0,s.useEffect)((()=>{const e={userSignIn:t,balance:c};n.set("Cookie",JSON.stringify(e),{path:"/",expires:0,sameSite:"strict"})}),[c]),s.createElement(I.Provider,{value:{balance:c,setBalance:r,userSignIn:t,setUserSignIn:a}},s.createElement("div",{className:"wallpaper",style:{backgroundImage:`url(${S})`}}),s.createElement(j,null),s.createElement("main",{className:"main"},s.createElement(w,null),s.createElement(f,null)))}}}]);